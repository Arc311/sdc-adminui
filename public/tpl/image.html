<div class="page-header">
  <h2>{{name}} {{version}} <small class="uuid">{{uuid}}</small></h2>
</div>


<div class="basic">
  {{#if os}}
  <div class="os-image">
    <img src="/img/os-{{os}}.png">
  </div>
  {{/if}}

  <p class="description">{{description}}</p>

  <div class="btn-group state">
    <a class="btn btn-block btn-small dropdown-toggle
      {{#if active}}btn-success{{/if}}
      {{#if unactivated}}btn-warning{{/if}}
      {{#if disabled}}btn-danger{{/if}}
      " data-toggle="dropdown" href="#">
      
      {{#if active}}
      ACTIVATED
      {{/if}}
      {{#if unactivated}}
      UNACTIVATED
      {{/if}}
      <span class="caret"></span>
    </a>

    <ul class="dropdown-menu">
      {{#if activatable}}
      <li><a class="activate">Activate Image</a></li>
      {{/if}}
      {{#if enableable}}
      <li><a class="enable">Enable Image</a></li>
      {{/if}}
      {{#if disableable}}
      <li><a class="disable">Disable Image</a></li>
      {{/if}}
    </ul>
  </div>

  <div class="visibility">
    <h3>Visibility</h3>
    {{#if public}}
      Image is available for <strong>public</strong> consumption
    {{else}}
      This image is only available to the owner
      {{#if acl.length}}
        and
        {{#each acl}} {{this}} {{/each}}
      {{/if}}
    {{/if}}
  </div>

</div>


<div class="details">
  <h5>Overview</h5>
  <ul class="unstyled attributes">
    <li>
      <strong>UUID</strong>
      <span class="value uuid">{{uuid}}</span>
    </li>

    <li>
      <strong>Owner</strong>
      <span class="value uuid">{{owner}}</span>
    </li>

    <li>
      <strong>Name / Version</strong>
      <span class="value">{{name}} {{version}}</span>
    </li>

    <li>
      <strong>Publish Date</strong>
      <span class="value">{{published_at}}</span>
    </li>

    <li>
      <strong>Operating System</strong>
      <span class="value">{{os}}</span>
    </li>

    <li>
      <strong>Image Type</strong>
      <span class="value">{{type}}</span>
    </li>

    {{#if cpu_type}}
    <li>
      <strong>CPU Type</strong>
      <span class="value">{{cpu_type}}</span>
    </li>
    {{/if}}
  </ul>

  <h5>Files <a class="show-upload-form">Upload a new file</a></h5>
  <ul class="unstyled files">
    {{#if files.length}}
    <li class="file">
      {{#each files}}
        <div class="sha1"><span>{{this.sha1}}</span></div>
        <div class="size"><span>{{this.size}} bytes</span></div>
        <div class="compression"><span>{{this.compression}}</span></div>
      {{/each}}
    </li>
    {{/if}}
    <li class="progress">
      <div class="progress progress-striped active">
        <div class="bar" style="width: 0%;"></div>
      </div>
    </li>

    {{#unless files.length}}
    <li class="empty">
        There are currently no files in this Image. An image must have a file before it can be activated.
    </li>
    {{/unless}}


    <li class="upload">
      <div class="select">
        <a class="add-file">Select image file to upload</a>
      </div>
      <div class="compression">
        Compression
        <select class="input-small">
          <option value="none">none</option>
          <option value="bzip2">bzip2</option>
          <option value="gzip">gzip</option>
        </select>
      </div>
      <button class="btn btn-small btn-info start-upload">Start Upload</button>
      <button class="btn btn-small cancel-upload-form">Cancel</button>
    </li>
  </ul>

  <form class="uploadform">
    <input type="file" class="fileinput">
  </form>

  <h5>Requirements</h5>
  <ul class="unstyled attributes requirements">
    <li>
      <strong>Networks</strong>
      <span class="value">
        {{#each requirements.networks}}
        {{this.name}} / {{this.description}}
        {{/each}}
      </span>
    </li>

    {{#if requirements.ssh_key}}
    <li>
      <strong>SSH Key</strong>
      <span class="value">{{requirements.ssh_key}}</span>
    </li>
    {{/if}}

    {{#if requirements.min_ram}}
    <li>
      <strong>Minimum RAM</strong>
      <span class="value">{{requirements.min_ram}}</span>
    </li>
    {{/if}}

    {{#if requirements.max_ram}}
    <li>
      <strong>Maximum RAM</strong>
      <span class="value">{{requirements.max_ram}}</span>
    </li>
    {{/if}}

    {{#if requirements.generate_passwords}}
    <li>
      <strong>Paaswords Generated for users:</strong>
      <span class="value">
        {{#each requirements.users}} {{this}} {{/each}}
      </span>
    </li>
    {{/if}}
  </ul>

  {{#if nic_driver}}
  <h5>Drivers</h5>
  <ul class="unstyled attributes requirements">
    <li>
      <strong>NIC Driver</strong>
      <span class="value">
        {{nic_driver}}
      </span>
    </li>
    <li>
      <strong>Disk Driver</strong>
      <span class="value">
        {{disk_driver}}
      </span>
    </li>
  </ul>
  {{/if}}
</div>
