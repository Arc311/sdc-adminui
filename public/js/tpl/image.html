<div class="page-header">
  <h1>
    <span class="name">{{name}}</span> <span class="version">{{version}}</span>
    <div class="resource-status">
      Status: 
      {{#if active}}
      <span class="active">active</span>
      {{/if}}
      {{#if unactivated}}
      <span class="unactivated">unactivated</span>
      {{/if}}
    </div>
  </h1>
</div>

  <div class="actions">
    {{#if enableable}}
    <a class="btn enable">Enable</a>
    {{/if}}

    {{#if activatable}}
    <a class="btn activate btn-info">Activate</a>
    {{/if}}

    {{#if disableable}}
    <a class="btn disable btn-danger">Disable</a>
    {{/if}}
  </div>
</div>


<div class="basic">
  {{#if os}}
  <div class="os-image">
    <img src="/img/os-{{os}}.png">
  </div>
  {{/if}}

  <p class="description">{{description}}</p>

  <div class="visibility">
    {{#if public}}
      Image is available to the <strong>public</strong>
    {{else}}
      This image is <strong>restricted to the owner</strong>
      {{#if acl.length}}
        and
        {{#each acl}} {{this}} {{/each}}
      {{/if}}
    {{/if}}<br>

    <button class="btn btn-small change-publicity">
    {{#if public}}
      <i class="icon-lock"></i> Make Image Private
    {{else}}
      <i class="icon-globe"></i> Make Image Public
    {{/if}}
    </button>
  </div>

</div>


<div class="details">
  <h3>Overview</h3>
  <ul class="unstyled attributes">
    <li>
      <strong>UUID</strong>
      <span class="value uuid">{{uuid}}</span>
    </li>

    <li>
      <strong>Owner</strong>
      <span class="value uuid">{{owner}}</span>
    </li>

    <li>
      <strong>Name / Version</strong>
      <span class="value">{{name}} {{version}}</span>
    </li>

    <li>
      <strong>Publish Date</strong>
      <span class="value">{{published_at}}</span>
    </li>

    <li>
      <strong>Operating System</strong>
      <span class="value">{{os}}</span>
    </li>

    <li>
      <strong>Image Type</strong>
      <span class="value">{{type}}</span>
    </li>

    {{#if cpu_type}}
    <li>
      <strong>CPU Type</strong>
      <span class="value">{{cpu_type}}</span>
    </li>
    {{/if}}
  </ul>

  <h3>Files 
    {{#if unactivated}}
    <a class="show-upload-form">Upload a new file</a>
    {{/if}}
  </h3>
  <ul class="unstyled files">
    {{#if files.length}}
    <li class="file">
      {{#each files}}
        <div class="sha1"><span>{{this.sha1}}</span></div>
        <div class="size"><span>{{this.size}} bytes</span></div>
        <div class="compression"><span>{{this.compression}}</span></div>
      {{/each}}
    </li>
    {{/if}}
    <li class="progress">
      <div class="progress progress-striped active">
        <div class="bar" style="width: 0%;"></div>
      </div>
    </li>

    {{#unless files.length}}
    <li class="empty">
        There are currently no files in this Image. An image must have a file before it can be activated.
    </li>
    {{/unless}}


    <li class="upload">
      <div class="select">
        <a class="add-file">Select image file to upload</a>
      </div>
      <div class="compression">
        Compression
        <select class="input-small">
          <option value="none">none</option>
          <option value="bzip2">bzip2</option>
          <option value="gzip">gzip</option>
        </select>
      </div>
      <button class="btn btn-small btn-info start-upload">Start Upload</button>
      <button class="btn btn-small cancel-upload-form">Cancel</button>
    </li>
  </ul>

  <form class="uploadform">
    <input type="file" class="fileinput">
  </form>

  <h3>Requirements</h3>
  <ul class="unstyled attributes requirements">
    <li>
      <strong>Networks</strong>
      <span class="value">
        {{#each requirements.networks}}
        {{this.name}} / {{this.description}}
        {{/each}}
      </span>
    </li>

    {{#if requirements.ssh_key}}
    <li>
      <strong>SSH Key</strong>
      <span class="value">{{requirements.ssh_key}}</span>
    </li>
    {{/if}}

    {{#if requirements.min_ram}}
    <li>
      <strong>Minimum RAM</strong>
      <span class="value">{{requirements.min_ram}}</span>
    </li>
    {{/if}}

    {{#if requirements.max_ram}}
    <li>
      <strong>Maximum RAM</strong>
      <span class="value">{{requirements.max_ram}}</span>
    </li>
    {{/if}}

    {{#if requirements.generate_passwords}}
    <li>
      <strong>Paaswords Generated for users:</strong>
      <span class="value">
        {{#each requirements.users}} {{this}} {{/each}}
      </span>
    </li>
    {{/if}}
  </ul>

  {{#if nic_driver}}
  <h3>Drivers</h3>
  <ul class="unstyled attributes requirements">
    <li>
      <strong>NIC Driver</strong>
      <span class="value">
        {{nic_driver}}
      </span>
    </li>
    <li>
      <strong>Disk Driver</strong>
      <span class="value">
        {{disk_driver}}
      </span>
    </li>
  </ul>
  {{/if}}
</div>
